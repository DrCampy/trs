<!DOCTYPE html>

<html lang="en">
<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <link href="favicon.ico" rel="shortcut icon">

  <title>TRS: An Open-source Recipe for Teaching (and Learning) Robotics with a Simulator</title>
  <link href="style.css" rel="stylesheet">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script></head>

<body>
  <div class="page">
    <div id="topframe">
      <img alt="" id="topimage" src="top-3.jpg">

    
    </div>

    <div class="heading_body">

      <div style="text-align:left; font-size:160%;">
        <strong>TRS:</strong> An Open-source Recipe for Teaching/Learning Robotics with a Simulator.
      </div>
      <div style="text-align:left; font-size:100%; padding-top: 1ex">
        :: setup a laptop in 5 minutes,
write a control, navigation, vision or manipulation program in 100 lines of code
      </div>
    </div>

    <div class="content_body">
      <div id="menu">
        <a class="top" href="index.html">TRS</a>
        <a class="submenu" href="index.html#events">Events</a>
        <a class="submenu" href="index.html#mot">Motivation</a>
        <a class="submenu" href="index.html#get">What You Get</a>
        <a class="submenu" href="index.html#use">How to Use</a>
        <a class="submenu" href="index.html#contact">Authors</a>
        <a href="setup.html">Setup</a>
        <a class="submenu" href="setup.html#com">Components</a>
        <a class="submenu" href="setup.html#install">Install</a>
        <a class="submenu" href="setup.html#simulator">Simulator</a>
        <a class="submenu" href="setup.html#shoot">Troubleshoot</a>
        <a href="project.html">Project</a>
        <a class="submenu" href="project.html#def">Definition</a>
        <a class="submenu" href="project.html#prog">Programming</a>
        <a class="submenu" href="project.html#doc">Documentation</a>
        <a class="submenu" href="project.html#api">API</a>
        <a class="submenu" href="project.html#mtips">MATLAB Tips</a>
        <a class="submenu" href="project.html#ytips">YouBot Tips</a>
        <a class="submenu bottom" href="project.html#shoot">Troubleshoot</a>
      </div>

      <div class="content">
        <img style="float: right;" src="http://renaud-detry.net/raster/ulg-logo82.jpg" alt="ULg" />
      
        <a id="set"></a>
        <h1 style="margin-top: 0">Components</h1>

<p>This page details the installation and configuration of the following items:</p>
<ul>
<li>Peter Corke's RVC toolbox,</li>
<li>The V-REP simulator,</li>
<li>The MATLAB bindings for V-REP.</li>
</ul>

<h2>Requirements</h2>

TRS requires a fairly recent version of MATLAB. MATLAB versions older than 2011 are know to cause problems.

<h2>Notes</h2>

<p>Before installing V-REP and RVC, please take the time to read the tips below:</p>

<ul>

  <li>The installation process needs to be slightly adapted to your platform (Linux, Mac, Win), and to your MATLAB version. At each step of the install procedure, I provide a set of commands that are tailored to a 64-bit Linux machine. If you use a different setup, you may have to adapt these commands.</li>

  <li>If you are using Windows, you can pretty much follow the directives below. However, to ease the process, I suggest you install everything in <code>C:/trs</code> instead of your home directory.
  <p>In the instructions below, the tilde <code>~</code> character stands for the home directory. If you are using Windows, you may use <code>C:/</code> instead of <code>~</code>. If you decide to go against this recommendation, please make sure that the path where you install the project stuff does not contain spaces, accented characters, or other non-letter characters. Letters and numbers only please.</li>

</ul>

        <a id="install"></a>
<h1>Install Procedure</h1>

<p>The recommended procedure for setting up your computer is listed below:</p>

<ol class="steps">

  <li>
    <a class="anchor" id="git"></a>Project-related files are published through Git. Download a Git client from the <a href="http://git-scm.com/downloads">git-scm.com</a> website. If you are unfamiliar with Git, <a href="http://www.sourcetreeapp.com">SourceTree</a> is a cool GUI for Mac and Windows.
    <p>Clone the Git repository <a href="https://github.com/ULgRobotics/trs.git"><code>https://github.com/ULgRobotics/trs.git</code></a> onto your machine; this tutorial will consider you do it in your home directory <code>~</code>. On a UNIX machine:
    <code class="block">cd ~
git clone https://github.com/ULgRobotics/trs.git</code>
    <p><strong>Do not modify the files within that directory</strong>, as they may be updated in the repository. Remember to regularly pull from the Git repository to get updates.</p>
    <p>If you have trouble downloading the project files with Git, you can download a <a href="https://github.com/ULgRobotics/trs/archive/master.zip">ZIP snapshot</a> of the current state of the Git repo. The ZIP file behind this link is kept up-to-date, but <strong>you must re-download it often to make sure you get all the updates to the project files</strong>.</p>
  </li>
  <li>
    Download <a href="http://coppeliarobotics.com/downloads.html">V-REP PRO EDU</a>. When you have downloaded V-REP, unpack it, for instance in your home directory.
    <p>If your firewall asks you whether V-REP should be allowed, always answer yes: the communication between MATLAB and V-REP will take place via the network (internal to your computer). Otherwise, you will face problems later on. 
  </li>
  <li>
    Install the V-REP bindings for MATLAB:
    <ol>
      <li>You must copy three files from the directory of the V-REP app (downloaded at the previous step) to the directory named <code>youbot</code> within your local copy of the GitHub repository. The three files you need to copy are named: 
        <ul>
          <li><code>remApi.m</code></li>
          <li><code>remoteApiProto.m</code></li>
          <li><code>remoteApi.so</code> (if you use Linux) <strong>or</strong> <code>remoteApi.dll</code> (if you use Windows) <strong>or</strong> <code>remoteApi.dylib</code> (if you use a Mac). <strong>If you have a choice between a 32-bit or 64-bit remoteApi, pick the one that corresponds to your MATLAB install (32-bit MATLAB or 64-bit MATLAB). If you have 32-bit MATLAB, pick the 32-bit remoteApi, even if your kernel is 64-bit.</strong></li>
        </ul>
        You will find these files in the directory containing the V-REP app. Look in the <code>programming/remoteApiBindings/lib/lib</code> and <code>programming/remoteApiBindings/matlab/matlab</code> subdirectories of the V-REP app directory (although this can change from version to version). You must copy these files to the <code>youbot</code> directory within your copy of the GitHub repo. If you closely followed the instructions above, the <code>youbot</code> directory is at <code>~/trs/youbot</code> (Linux/Mac) or <code>C:/trs/youbot</code> (Windows).
        <p>Note that, when you run any MATLAB script using V-REP, you will be warned to use the right version of the remote API file (<code>remoteApi.so/dll/dylib</code>); this is perfectly normal. The message should look like this: 
        <code class="block">Note: always make sure you use the corresponding remoteApi library
(i.e. 32bit Matlab will not work with 64bit remoteApi, and vice-versa)</code>
      </li>
      
      <li>
        In MATLAB, change to the <code>youbot</code> directory. On Linux/Mac:
        <code class="block">cd ~/trs/youbot</code>
        Then perform a first connection test by typing: 
        <code class="block">vrep=remApi('remoteApi');
vrep.delete();</code>
        <p>If there is no error, the MATLAB bindings to V-REP are loaded! If there is an error, check the steps above, check the Troubleshooting section below, and read <a href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiClientSide.htm">V-REP's MATLAB bindings help</a>. The V-REP developers are actively supporting TRS. If you cannot solve this issue, post a question on the <a href="http://www.forum.coppeliarobotics.com">V-REP forums</a>.
      </li>
      <li>
        Startup V-REP (Linux: <code>./vrep.sh</code> from within V-REP's directory; Windows: in your Start menu), use the menu "File/Open Scene", and open <code>~/trs/youbot/binding_test.ttt</code>. <strong>Hit "Start Simulation" in the Simulation menu</strong>. Then, back in MATLAB, go to the <code>youbot</code> folder. On Linux/Mac:
        <code class="block">cd ~/trs/youbot</code>
        Then run the <code>binding_test</code> script: 
        <code class="block">binding_test();</code>
        If you see MATLAB replying <em>Number of objects in the scene: 19</em>, everything works! If not, as recommended above, post a question on the <a href="http://www.forum.coppeliarobotics.com">V-REP forums</a> (the most common cause of errors is forgetting to start the simulation).
      </li>
      
    </ol>
    
  </li>  

  
  <li>
    <p>In MATLAB, run the <code>startup_robot.m</code> file provided via the Git repository. If you cloned the Git repository in your home directory (<code>~</code> under Linux and macOS), run:
    <code class="block">run('~/trs/matlab/startup_robot.m');</code></p>
    <p><strong>This line needs to be run every time MATLAB restarts</strong>. You may want to add it to your MATLAB startup file. This first first checks whether P. Corke's RVC toolbox is downloaded (and downloads it if it's not), and then updates MATLAB's path so that it can find the toolbox functions and the V-REP binding. </p>
    <p><strong>Test that the RVC toolbox works:</strong> In MATLAB, type
        <code class="block">rotx(1)</code>
        If there is no error, P. Corke's RVC toolbox is working! If there is an error, check the steps above and read the toolbox' <a href="http://petercorke.com/Robotics_Toolbox.html">install documentation</a>.</p>

  </li>
  

</ol>

        <a id="simulator"></a>
<h1>Discovering the simulator</h1>

<p>Here are a few videos to help you get familiar with the simulator. </p>
<div style="margin: 0 auto; width: 560px;">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/6Oq55YYLwQs" allowfullscreen="allowfullscreen"></iframe>
    <p><a href="http://www.montefiore.ulg.ac.be/~tcuvelier/files/info0948-2016/V-REP%20overall.mp4">Back-up link</a></p>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/SgUfqFveJwQ" allowfullscreen="allowfullscreen"></iframe>
    <p><a href="http://www.montefiore.ulg.ac.be/~tcuvelier/files/info0948-2016/V-REP%20simulation.mp4">Back-up link</a></p>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/FRN_Gj_lSqU" allowfullscreen="allowfullscreen"></iframe>
    <p><a href="http://www.montefiore.ulg.ac.be/~tcuvelier/files/info0948-2016/V-REP%20camera.mp4">Back-up link</a></p>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/O8HNW9cXY6Q" allowfullscreen="allowfullscreen"></iframe>
    <p><a href="http://www.montefiore.ulg.ac.be/~tcuvelier/files/info0948-2016/V-REP%20objects.mp4">Back-up link</a></p>
</div>

        <a id="shoot"></a>
<h1>Troubleshooting</h1>

<ul>
<li>
If you get an error that contains <code>version `GLIBCXX_3.4.15' not found</code>, talk to me in class, or take a look at <a href="http://sgpsproject.sourceforge.net/JavierVGomez/index.php/Solving_issues_with_GLIBCXX_and_libstdc%2B%2B">this link</a>.
</li>
</ul>


      </div>

      <div class="trailer_body">
        <div style="width: 100%; display: table;">
          <div style="display: table-row">
            <div style="width: 50%; display: table-cell; vertical-align: bottom;">
              Valid <a href="http://validator.w3.org/check?uri=referer">HTML5</a> and <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a>
            </div>

            <div style="width: 50%; display: table-cell; text-align: right; vertical-align: bottom;">
              &copy; Renaud Detry 2014<br>
              This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 International License</a>.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
